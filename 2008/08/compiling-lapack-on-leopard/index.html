<!doctype html>
<html lang="">
<head>
    <meta charset="utf-8"/>
    <title>Compiling lapack 3.1.1 on Leopard - miscellaneous</title>
    <meta name="author" content="James A. Kyle">

    <link rel="top" href="#" /><link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic|Source+Code+Pro' rel='stylesheet' type='text/css'></link>
    <link rel="stylesheet" href="../../../theme/css/main.css" type="text/css" />


        <link href="http://blog.jameskyle.org/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="miscellaneous Atom Feed" />
</head>
<body>
    <div class="container">

      <header role="banner">
        <div class="feeds">
            <a href="../../../feeds/atom.xml" rel="alternate"><img src="/theme/images/icons/rss_32.png" alt="rss feed"/></a>

        </div>
          <div class="pages">
              <a href="../../../pages/about.html">About me</a>
            <span>-</span>
            <a href="../../../archives.html">Archives</a>
            <span>-</span>
            <a href="../../../tags.html">Tags</a>
          </div>
        <a href="../../.." class="title">miscellaneous</a>
      </header>

      <div class="wrapper">

          <div role="main" class="content">
    <article class="full">
            
        <h1>Compiling lapack 3.1.1 on Leopard</h1>
        
        <p>OSX contains an incomplete lapack library by default in the vecLib
framework. But if you want the full power of lapack 3.1.1, you have to
compile from source. This article documents that process, mostly so when
I have to do it again I'll have a reference.</p>
<p>The first thing we notice is that OSX does not contain a fortran
compiler in its developer tools. The <a class="reference external" href="http://gcc.gnu.org/wiki/GFortran&quot;">gfortran project</a>&nbsp; contains a
nice dmg installer. Two other options are compiling from source or using
macports. I chose macports.</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo port install gcc43
</pre></div>
<p>Create some convenient links for standard gfortran calls.</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo ln -sf /opt/local/bin/gfortran-mp-4.3 /usr/local/bin/gfortran
<span class="nv">$ </span>sudo ln -sf /opt/local/bin/gfortran-mp-4.3 /usr/local/bin/g77
</pre></div>
<p>Next download <a class="reference external" href="http://www.netlib.org/lapack/lapack.tgz">lapack.tgz</a>&nbsp;source (current 3.1.1 as of this writing)
and untar it.</p>
<div class="highlight"><pre><span class="nv">$ </span>tar xzvf lapack.tgz
</pre></div>
<p>Lapack does not contain the standard configure script, so we have to
edit the make.inc ourselves. Copy the make.inc.example to make.inc, then
apply <a class="reference external" href="/source/2008/08/make.inc.patch">this patch</a>.</p>
<div class="highlight"><pre><span class="nv">$ </span>patch &lt; make.inc.patch
</pre></div>
<p>That's it, all that's left is to compile. I do so with 6 make threads.</p>
<div class="highlight"><pre><span class="nv">$ </span>make -j6
</pre></div>
   

    </article>

    <section>
        <p id="post-share-links">
            Share on:
            <a href="http://twitter.com/home?status=Compiling%20lapack%203.1.1%20on%20Leopard%20 http%3A//blog.jameskyle.org/2008/08/compiling-lapack-on-leopard" target="_blank" title="Share on Twitter">Twitter</a>
            ❄
            <a href="http://www.facebook.com/sharer/sharer.php?s=100&p[url]=http%3A//blog.jameskyle.org/2008/08/compiling-lapack-on-leopard&p[images][0]=&p[title]=Compiling%20lapack%203.1.1%20on%20Leopard%20&p[summary]=%3Cp%3EOSX%20contains%20an%20incomplete%20lapack%20library%20by%20default%20in%20the%20vecLib%0Aframework.%20But%20if%20you%20want%20the%20full%20power%20of%20lapack%203.1.1%2C%20you%20have%20to%0Acompile%20from%20source.%20This%20article%20documents%20that%20process%2C%20mostly%20so%20when%0AI%20have%20to%20do%20it%20again%20I%27ll%20have%20a%20reference.%3C/p%3E%0A%3Cp%3EThe%20...%3C/p%3E" target="_blank" title="Share on Facebook">Facebook</a>
            ❄
            <a href="https://plus.google.com/share?url=http%3A//blog.jameskyle.org/2008/08/compiling-lapack-on-leopard" target="_blank" title="Share on Google Plus">Google+</a>
            ❄
            <a href="mailto:?subject=Compiling%20lapack%203.1.1%20on%20Leopard%20&body=http%3A//blog.jameskyle.org/2008/08/compiling-lapack-on-leopard" target="_blank" title="Share via Email">Email</a>
        </p>
    </section>
    <div class="comments">
    <h2>Comments !</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
           var disqus_identifier = "2008/08/compiling-lapack-on-leopard";
           (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = 'http://blog-jameskyle.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
    </div>

          </div>

          <div class="sidebar">

            <div class="widget">
              <h2>Categories</h2>
              <ul>
                  <li ><a href="../../../category/administration.html">administration</a></li>
                  <li ><a href="../../../category/apt.html">apt</a></li>
                  <li ><a href="../../../category/cocoa.html">cocoa</a></li>
                  <li ><a href="../../../category/debian.html">debian</a></li>
                  <li ><a href="../../../category/devops.html">devops</a></li>
                  <li ><a href="../../../category/docker.html">docker</a></li>
                  <li ><a href="../../../category/linux.html">linux</a></li>
                  <li ><a href="../../../category/miscellaneous.html">miscellaneous</a></li>
                  <li ><a href="../../../category/multimedia.html">multimedia</a></li>
                  <li ><a href="../../../category/opinion.html">opinion</a></li>
                  <li ><a href="../../../category/osx.html">osx</a></li>
                  <li class="active"><a href="../../../category/programming.html">programming</a></li>
                  <li ><a href="../../../category/reviews.html">reviews</a></li>
                  <li ><a href="../../../category/utilities.html">utilities</a></li>
                  <li ><a href="../../../category/zsh.html">zsh</a></li>
              </ul>
            </div>

              <div class="widget">
              <h2>Social</h2>
                <ul class="social">
                  <li><a href="http://github.com/jameskyle/">github</a><i></i></li>
                  <li><a href="https://twitter.com/jameskyle75">twitter</a><i></i></li>
                  <li><a href="https://bitbucket.org/jkyle">bitbucket</a><i></i></li>
                  <li><a href="https://plus.google.com/+jameskyle75">google+</a><i></i></li>
                  <li><a href="http://www.linkedin.com/in/jamesakyle">linkedin</a><i></i></li>
                </ul>
              </div>

              <div class="widget blogroll">
                <h2>Blogroll</h2>
                <ul>
                    <li><a href="http://docs.notmyidea.org/alexis/pelican/">Pelican</a></li>
                    <li><a href="http://www.doughellmann.com">Doug Hellmann</a></li>
                    <li><a href="http://www.openstack.org/blog/">Openstack</a></li>
                </ul>
              </div>

          </div>

      </div>

      <footer>
        <p role="contentinfo">
          © 2013 James A. Kyle - Proudly powered by
          <a href="http://alexis.notmyidea.org/pelican/">pelican</a>.
          Theme <a href="https://github.com/fle/pelican-simplegrey">
              pelican-simplegrey
          </a>, modified.
        </p>

      </footer>

    </div>

      <script>
        var _gaq=[['_setAccount','UA-23876265-2'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
      </script>

</body>
</html>